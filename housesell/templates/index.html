{% extends 'base.html' %}
{% load static %}

{% block title %}Home | SellHub{% endblock %}

{% block content %}
<section class="bg-black text-white py-16 px-3 sm:px-6" id="home">
  <div class="max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-8 sm:gap-10">
    
    <!-- LEFT -->
    <div class="w-full md:w-1/2 space-y-4 sm:space-y-6 text-left">
      <h1 class="text-2xl sm:text-4xl md:text-5xl font-bold leading-tight break-words">
        Find your dream <span class="text-pink-500">home</span> today
      </h1>
      <p class="text-sm sm:text-lg text-zinc-400">
        Welcome to <span class="text-pink-500 font-semibold">SellHub</span> â€“ the easiest way to find your dream house.
        Browse exclusive listings, meet trusted agents, and invest smartly in your future.
      </p>
      <a href="{% url 'listings' %}" class="inline-block bg-pink-500 text-white text-sm sm:text-base px-4 sm:px-6 py-2 sm:py-3 rounded-full font-semibold shadow hover:bg-pink-600 transition">
        Explore Listings
      </a>
    </div>

    <!-- RIGHT -->
    <div class="w-full md:w-1/2 relative">
      <div class="overflow-hidden rounded-2xl shadow-lg w-full h-48 sm:h-64 md:h-80 relative">
        <img id="carousel-image" src="{% static 'src/10.jpg' %}" alt="House"
          class="object-cover w-full h-full transition duration-700 ease-in-out rounded-2xl min-w-0" />
        
        <!-- Caption Overlay -->
        <div id="carousel-caption"
          class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-zinc-950/90 to-transparent text-white text-xs sm:text-sm md:text-base px-3 py-2 sm:px-4 sm:py-3 rounded-b-2xl overflow-hidden">
          Spacious modern villa with a beautiful garden.
        </div>
      </div>

      <!-- Dots -->
      <div class="mt-3 sm:mt-4 flex justify-center space-x-2 sm:space-x-3">
        <!-- Dots will be dynamically rendered in JS -->
        <div id="carousel-dots" class="flex gap-2"></div>
      </div>
    </div>

  </div>
</section>

<!-- JS -->
<script>
  const images = [
    "{% static 'src/10.jpg' %}",
    "{% static 'src/2.jpg' %}",
    "{% static 'src/11.jpg' %}",
    "{% static 'src/12.jpg' %}",
    "{% static 'src/7.jpg' %}",
    "{% static 'src/9.jpg' %}"
  ];

  const captions = [
    "Spacious modern villa with a beautiful garden.",
    "Cozy family house near the city center.",
    "Luxury apartment with skyline views.",
    "Modern duplex with high-end finishes.",
    "Elegant cottage with countryside charm.",
    "Smart home with solar panels and pool."
  ];

  let index = 0;
  const imageElement = document.getElementById('carousel-image');
  const captionElement = document.getElementById('carousel-caption');
  const dotsContainer = document.getElementById('carousel-dots');

  // Create dots dynamically
  const dots = images.map((_, i) => {
    const btn = document.createElement('button');
    btn.className = `w-3 h-3 rounded-full bg-pink-500 opacity-30 hover:opacity-80 transition`;
    btn.setAttribute('aria-label', `Slide ${i + 1}`);
    btn.onclick = () => showImage(i);
    dotsContainer.appendChild(btn);
    return btn;
  });

  function updateDots(activeIndex) {
    dots.forEach((dot, i) => {
      dot.classList.remove('opacity-70');
      dot.classList.add('opacity-20');
      if (i === activeIndex) {
        dot.classList.remove('opacity-20');
        dot.classList.add('opacity-70');
      }
    });
  }

  function showImage(i) {
    index = i;
    imageElement.src = images[i];
    captionElement.textContent = captions[i];
    updateDots(i);
  }

  let intervalId = null;
  function startCarousel() {
    intervalId = setInterval(() => {
      index = (index + 1) % images.length;
      showImage(index);
    }, 10000);
  }

  function stopCarousel() {
    clearInterval(intervalId);
  }

  // Pause carousel when tab is inactive
  document.addEventListener('visibilitychange', () => {
    document.hidden ? stopCarousel() : startCarousel();
  });

  // Start
  showImage(0);
  startCarousel();
</script>


<section class="overflow-hidden relative w-full py-6 sm:py-10 bg-black">
  <div class="animate-scroll flex space-x-4 sm:space-x-6 w-max">
    {% for i in "123456789" %}
    <div class="relative min-w-[180px] sm:min-w-[250px] md:min-w-[300px] max-w-xs h-[250px] sm:h-[350px] md:h-[400px] rounded-xl overflow-hidden shadow-lg group hover:shadow-pink-500 transition-shadow duration-300">
      <img src="{% static 'src/' %}{{ forloop.counter }}.jpg" class="w-full h-full object-cover" alt="House {{ forloop.counter }}">
      <div class="absolute bottom-0 w-full bg-zinc-950/70 px-2 py-2 sm:px-4 sm:py-3 text-white text-xs sm:text-sm">
        <h3 class="font-semibold">Modern House #{{ forloop.counter }}</h3>
        <p>3 Beds Â· 2 Baths Â· <span class="text-pink-500">Sea View</span></p>
        <a href="#" class="mt-1 inline-block text-pink-500 hover:underline">View Details</a>
      </div>
    </div>
    {% endfor %}
  </div>
</section>

<!-- About Section -->
<section class="bg-zinc-950 text-white py-16 px-4 sm:px-6">
  <div class="max-w-5xl mx-auto text-center">
    <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold mb-6 leading-snug">
      About <span class="text-pink-500">SellHub</span>
    </h2>

    <p class="text-zinc-300 text-sm sm:text-base md:text-lg mb-6 sm:mb-8 leading-relaxed">
      SellHub is a modern real estate platform that connects buyers and sellers across the country. 
      Whether you're looking for a cozy apartment, a luxurious villa, or a perfect investment property, 
      we've got you covered. Our goal is to simplify the process and bring trust, speed, and clarity to every transaction.
    </p>

    <!-- Texte complÃ©mentaire -->
    <p class="text-zinc-400 text-sm sm:text-base max-w-3xl mx-auto leading-relaxed mb-10">
      Unlike traditional real estate platforms, SellHub combines technology with human expertise to offer a seamless experience.
      Our mission is not just to list homes â€” itâ€™s to help people make one of the most important decisions of their lives with confidence. 
      Thatâ€™s why weâ€™re committed to transparency, verified listings, and truly personalized service.
    </p>

    <!-- Learn More Button -->
    <a href="{% url 'about' %}" class="inline-block bg-pink-500 hover:bg-pink-600 text-white font-semibold px-5 py-3 rounded-full shadow transition">
      Learn More About Us
    </a>

    <!-- Feature Boxes -->
    <div class="flex flex-col sm:flex-row items-center justify-center gap-6 sm:gap-8 mt-12">
      <div class="bg-zinc-900 p-5 sm:p-6 rounded-xl shadow-md max-w-sm hover:shadow-pink-600 transition-shadow duration-300">
        <h3 class="text-lg sm:text-xl font-semibold mb-2 text-pink-500">Verified Listings</h3>
        <p class="text-zinc-400 text-sm">
          Every property is checked and validated to ensure transparency and reliability.
        </p>
      </div>
      <div class="bg-zinc-900 p-5 sm:p-6 rounded-xl shadow-md max-w-sm hover:shadow-pink-600 transition-shadow duration-300">
        <h3 class="text-lg sm:text-xl font-semibold mb-2 text-pink-500">Trusted Agents</h3>
        <p class="text-zinc-400 text-sm">
          Work with experienced professionals who know the market and value your time.
        </p>
      </div>
      <div class="bg-zinc-900 p-5 sm:p-6 rounded-xl shadow-md max-w-sm hover:shadow-pink-600 transition-shadow duration-300">
        <h3 class="text-lg sm:text-xl font-semibold mb-2 text-pink-500">Smart Search</h3>
        <p class="text-zinc-400 text-sm">
          Quickly find properties that match your style, budget, and preferred location.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Testimonials Section -->
<section class="bg-black text-white py-20 px-6">
  <div class="max-w-6xl mx-auto text-center">
    <h2 class="text-3xl md:text-4xl font-bold mb-12">
      What our <span class="text-pink-500">clients</span> say
    </h2>
    <div class="grid md:grid-cols-3 gap-8">
      
      <!-- Testimonial 1 -->
      <div class="bg-zinc-900 p-6 rounded-2xl shadow-lg flex flex-col  items-center text-center hover:shadow-pink-500">
        <img src="{% static 'src/10.jpg' %}" alt="User 1"
             class="w-20 h-20 rounded-full object-cover mb-4 border-2 border-pink-500">
        <p class="text-zinc-300 italic mb-4">
          â€œSellHub helped me find the perfect house in just 3 days. Great service and very professional team!â€
        </p>
        <h4 class="text-pink-500 font-semibold">Sarah Johnson</h4>
        <span class="text-sm text-zinc-400">New York, USA</span>
      </div>

      <!-- Testimonial 2 -->
      <div class="bg-zinc-900 p-6 rounded-2xl shadow-lg flex flex-col items-center text-center hover:shadow-pink-600">
        <img src="{% static 'src/12.jpg' %}" alt="User 2"
             class="w-20 h-20 rounded-full object-cover mb-4 border-2 border-pink-500">
        <p class="text-zinc-300 italic mb-4">
          â€œVery smooth experience. I sold my apartment within a week. Highly recommended!â€
        </p>
        <h4 class="text-pink-500 font-semibold">David Lee</h4>
        <span class="text-sm text-zinc-400">Toronto, Canada</span>
      </div>

      <!-- Testimonial 3 -->
      <div class="bg-zinc-900 p-6 rounded-2xl shadow-lg flex flex-col items-center text-center hover:shadow-pink-600">
        <img src="{% static 'src/11.jpg' %}" alt="User 3"
             class="w-20 h-20 rounded-full object-cover mb-4 border-2 border-pink-500">
        <p class="text-zinc-300 italic mb-4">
          â€œEasy to use, beautiful interface and amazing support. Iâ€™ll definitely use SellHub again.â€
        </p>
        <h4 class="text-pink-500 font-semibold">Amina Diallo</h4>
        <span class="text-sm text-zinc-400">Dakar, Senegal</span>
      </div>

    </div>
  </div>
</section>

<!-- Services Section -->
<section class="py-20 bg-zinc-950 text-white relative overflow-hidden px-6">
  <div class="max-w-6xl mx-auto flex flex-col md:flex-row items-center gap-10">
    
    <!-- Texte des services -->
    <div class="md:w-1/2 z-10">
      <h2 class="text-4xl font-bold text-pink-500 mb-6">Our Services</h2>
      <ul class="space-y-5 text-lg text-zinc-300">
        <li class="flex items-start gap-3">
          <span class="text-pink-500 text-xl">ğŸ˜ï¸</span> Property listing & search filtering
        </li>
        <li class="flex items-start gap-3">
          <span class="text-pink-500 text-xl">ğŸ“</span> Direct communication with verified agents
        </li>
        <li class="flex items-start gap-3">
          <span class="text-pink-500 text-xl">ğŸ“„</span> Legal and financial consulting
        </li>
        <li class="flex items-start gap-3">
          <span class="text-pink-500 text-xl">ğŸšš</span> Relocation & after-sale assistance
        </li>
      </ul>
    </div>

    <!-- Image slider automatique -->
    <div class="md:w-1/2 w-full relative h-72 overflow-hidden rounded-xl shadow-xl">
      <div class="absolute inset-0 w-[300%] flex animate-slideX">
        <img src="{% static 'src/1.jpg' %}" alt="Service 1" class="w-1/3 h-full object-cover" />
        <img src="{% static 'src/2.jpg' %}" alt="Service 2" class="w-1/3 h-full object-cover" />
        <img src="{% static 'src/3.jpg' %}" alt="Service 3" class="w-1/3 h-full object-cover" />
        <img src="{% static 'src/4.jpg' %}" alt="Service 3" class="w-1/3 h-full object-cover" />
      </div>
    </div>

  </div>
</section>

<section id="contact" class="bg-zinc-950 text-white py-24 px-6">
  <div class="relative max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
    
    <!-- ğŸ“¸ Image Ã  gauche -->
    <div class="w-full h-full  ">
      <img src="{% static 'src/12.jpg' %}" alt="Contact Image "
        class="rounded-2xl shadow-2xl w-full h-[550px] object-cover object-center border-none">
        <div class="absolute  inset-0 bg-gradient-to-t from-black to-transparent  "></div>
    </div>
  <div class="max-w-4xl mx-auto">
    <!-- ğŸ“ Formulaire Ã  droite -->
    <div class="w-full">
      <h2 class="text-3xl sm:text-4xl font-bold mb-4 text-pink-500">Get in Touch</h2>
      <p class="text-zinc-400 mb-8 text-sm sm:text-base">
        Weâ€™d love to hear from you. Fill out the form and we'll get back to you as soon as possible.
      </p>

      <!-- Message de confirmation -->
      <div id="form-message" class="hidden mb-4 text-sm font-medium px-4 py-3 rounded-lg"></div>

      <form id="contactForm" method="post" class="space-y-5 text-sm sm:text-base">
        <!-- CSRF Token Django si besoin -->
        {% csrf_token %}

        <!-- Nom -->
        <div class="relative">
          <i class="fa-solid fa-user absolute left-4 top-3.5 text-pink-500 text-sm sm:text-base"></i>
          <input type="text" name="full_name" placeholder="Full Name"
            class="w-full pl-12 pr-4 py-3 rounded-lg bg-zinc-800 text-white border border-zinc-700 focus:outline-none focus:ring-2 focus:ring-pink-500">
        </div>

        <!-- Email -->
        <div class="relative">
          <i class="fa-solid fa-envelope absolute left-4 top-3.5 text-pink-500 text-sm sm:text-base"></i>
          <input type="email" name="email" placeholder="Email Address"
            class="w-full pl-12 pr-4 py-3 rounded-lg bg-zinc-800 text-white border border-zinc-700 focus:outline-none focus:ring-2 focus:ring-pink-500">
        </div>

        <!-- TÃ©lÃ©phone -->
        <div class="relative">
          <i class="fa-solid fa-phone absolute left-4 top-3.5 text-pink-500 text-sm sm:text-base"></i>
          <input type="tel" name="phone" placeholder="Phone Number"
            class="w-full pl-12 pr-4 py-3 rounded-lg bg-zinc-800 text-white border border-zinc-700 focus:outline-none focus:ring-2 focus:ring-pink-500">
        </div>

        <!-- Sujet -->
        <div class="relative">
          <i class="fa-solid fa-pen-to-square absolute left-4 top-3.5 text-pink-500 text-sm sm:text-base"></i>
          <input type="text" name="subject" placeholder="Subject"
            class="w-full pl-12 pr-4 py-3 rounded-lg bg-zinc-800 text-white border border-zinc-700 focus:outline-none focus:ring-2 focus:ring-pink-500">
        </div>

        <!-- Message -->
        <div class="relative">
          <i class="fa-solid fa-message absolute left-4 top-4 text-pink-500 text-sm sm:text-base"></i>
          <textarea name="message" rows="5" placeholder="Your Message"
            class="w-full pl-12 pr-4 py-3 rounded-lg bg-zinc-800 text-white border border-zinc-700 focus:outline-none focus:ring-2 focus:ring-pink-500 resize-none"></textarea>
        </div>

        <!-- Bouton -->
        <button type="submit"
          class="w-full bg-pink-500 hover:bg-pink-600 text-white font-semibold py-3 rounded-lg shadow-lg transition-all duration-300">
          Send Message
        </button>
      </form>
    </div>
  </div>

  <!-- Script JS -->
  <script>
    document.getElementById('contactForm').addEventListener('submit', function (e) {
      e.preventDefault();

      const form = e.target;
      const messageBox = document.getElementById('form-message');

      // DonnÃ©es
      const name = form.full_name.value.trim();
      const email = form.email.value.trim();
      const phone = form.phone.value.trim();
      const subject = form.subject.value.trim();
      const message = form.message.value.trim();

      if (!name || !email || !subject || !message) {
        messageBox.textContent = "Please fill in all required fields.";
        messageBox.className = "bg-red-600 text-white px-4 py-3 rounded-lg mb-4";
        messageBox.classList.remove("hidden");
        return;
      }

      // Simuler l'envoi (remplace Ã§a plus tard avec AJAX ou Django)
      form.reset();
      messageBox.textContent = "âœ… Your message has been sent successfully!";
      messageBox.className = "bg-green-600 text-white px-4 py-3 rounded-lg mb-4";
      messageBox.classList.remove("hidden");

      // Masquer aprÃ¨s 5 secondes
      setTimeout(() => {
        messageBox.classList.add("hidden");
      }, 5000);
    });
  </script>
</section>



<!-- Animation Tailwind CSS only -->
<style>
@keyframes scrollLoop {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}
.animate-scroll {
  animation: scrollLoop 80s linear infinite;
}
@keyframes slideX {
  0% { transform: translateX(0); }
  33% { transform: translateX(-33.333%); }
  66% { transform: translateX(-66.666%); }
  100% { transform: translateX(0); }
}
.animate-slideX {
  animation: slideX 25s ease-in infinite;
}

</style>


{% endblock %}
